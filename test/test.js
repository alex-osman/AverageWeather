var request = require('supertest');

describe("Average Temps", function() {
  this.timeout(8000)
  var server = require('../climate');
  it('Return KPHL 2010', function testKPHL(done) {
    request(server)
      .get('/avg/kphl/2010/2010')
      .expect(200, {
        "2010": {
          "0": 37,
          "1": 33,
          "2": 32,
          "3": 49,
          "4": 59,
          "5": 68,
          "6": 78,
          "7": 82,
          "8": 79,
          "9": 73,
          "10": 59,
          "11": 49
        }
      },done);
  })
  it('Return KPHL 2007-2016', function tenYearsKPHL(done) {
    request(server)
      .get('/avg/kphl/2007/2016')
      .expect(200, {
        "2007": {
          "0": 43,
          "1": 38,
          "2": 28,
          "3": 44,
          "4": 51,
          "5": 66,
          "6": 74,
          "7": 78,
          "8": 77,
          "9": 72,
          "10": 65,
          "11": 46,
        },
        "2008": {
          "0": 38,
          "1": 36,
          "2": 37,
          "3": 45,
          "4": 57,
          "5": 61,
          "6": 77,
          "7": 80,
          "8": 75,
          "9": 70,
          "10": 57,
          "11": 46,
        },
        "2009": {
          "0": 39,
          "1": 29,
          "2": 37,
          "3": 44,
          "4": 56,
          "5": 65,
          "6": 71,
          "7": 76,
          "8": 78,
          "9": 68,
          "10": 57,
          "11": 51,
        },
        "2010": {
          "0": 37,
          "1": 33,
          "2": 32,
          "3": 49,
          "4": 59,
          "5": 68,
          "6": 78,
          "7": 82,
          "8": 79,
          "9": 73,
          "10": 59,
          "11": 49
        },
        "2011": {
          "0": 33,
          "1": 30,
          "2": 37,
          "3": 44,
          "4": 57,
          "5": 68,
          "6": 76,
          "7": 83,
          "8": 76,
          "9": 71,
          "10": 58,
          "11": 52,
        },
        "2012": {
          "0": 43,
          "1": 38,
          "2": 41,
          "3": 52,
          "4": 56,
          "5": 68,
          "6": 74,
          "7": 82,
          "8": 79,
          "9": 71,
          "10": 60,
          "11": 44,
        },
        "2013": {
          "0": 43,
          "1": 37,
          "2": 35,
          "3": 41,
          "4": 55,
          "5": 65,
          "6": 75,
          "7": 81,
          "8": 75,
          "9": 68,
          "10": 61,
          "11": 46,
        },
        "2014": {
          "0": 39,
          "1": 29,
          "2": 32,
          "3": 39,
          "4": 54,
          "5": 66,
          "6": 75,
          "7": 78,
          "8": 75,
          "9": 71,
          "10": 60,
          "11": 45,
        },
        "2015": {
          "0": 41,
          "1": 31,
          "2": 26,
          "3": 39,
          "4": 56,
          "5": 70,
          "6": 75,
          "7": 79,
          "8": 79,
          "9": 75,
          "10": 59,
          "11": 53,
        },
        "2016": {
          "0": 52,
          "1": 34,
          "2": 39,
          "3": 51,
          "4": 55,
          "5": 63,
          "6": 74,
          "7": 82,
          "8": 81,
          "9": 74,
          "10": 61,
          "11": 50
        }
      },done);
  })
  it('Get Max Temp', function maxKMIC(done) {
    request(server)
      .get('/max/kmic/2010/2010')
      .expect(200, {
        "2010": {
          "0": 23,
          "1": 20,
          "2": 28,
          "3": 50,
          "4": 66,
          "5": 71,
          "6": 77,
          "7": 85,
          "8": 85,
          "9": 69,
          "10": 64,
          "11": 42
        }
      },done);
  })
  it('Get Min Temp', function maxKMIC(done) {
    request(server)
      .get('/min/kmic/2009/2009')
      .expect(200, {
        "2009": {
          "0": 4,
          "1": -1,
          "2": 11,
          "3": 22,
          "4": 36,
          "5": 47,
          "6": 56,
          "7": 58,
          "8": 59,
          "9": 54,
          "10": 37,
          "11": 32
        }
      },done);
  })
})